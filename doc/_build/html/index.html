

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Schedule Rules’s documentation &mdash; Schedule Rules 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Schedule Rules 1.0 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">Schedule Rules 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="schedule-rules-s-documentation">
<h1>Schedule Rules&#8217;s documentation<a class="headerlink" href="#schedule-rules-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<span class="target" id="module-srules"></span><p>Schedule Rules module offer a set of tools used to define and manipulate
scheduled elements, based on date Intervals
(like meetings events, etc..)</p>
<p>It is based on <em>python-dateutil</em> and uses the same rrule mecanism as a basis.
But unlike python-datetuil which describes only time-events, Schedule Rules
uses the rrule mecanism to describes time-interval (and of course recurring
time intervals).</p>
<p>Usage of this tool can be limited to define
and work wich <tt class="xref py py-class docutils literal"><span class="pre">schedule.SRules</span></tt></p>
<dl class="docutils">
<dt>Dependencies:</dt>
<dd>python-dateutil : <a class="reference external" href="http://labix.org/python-dateutil">http://labix.org/python-dateutil</a></dd>
<dt>Useful URL:</dt>
<dd>python operators : <a class="reference external" href="http://docs.python.org/library/operator.html">http://docs.python.org/library/operator.html</a></dd>
</dl>
<div class="section" id="srules">
<h2>Srules<a class="headerlink" href="#srules" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="srules.SRules">
<em class="property">class </em><tt class="descclassname">srules.</tt><tt class="descname">SRules</tt><big>(</big><em>name</em>, <em>auto_refresh=True</em><big>)</big><a class="headerlink" href="#srules.SRules" title="Permalink to this definition">¶</a></dt>
<dd><p>SRules : Schedule Rules Class</p>
<p>SRules stores an ordered list of sessions which will be processed
in that order to generate an occurence list.
It can handle &#8216;add&#8217; and &#8216;exclude&#8217; sessions.</p>
<p>Each session is a set of rules (&#8216;normal rules&#8217;) which indicates periods of
time. This rules can include &#8216;exclude&#8217; rules (in rrule terms)
if they are indended to decribe the &#8216;normal&#8217; session.</p>
<p>SRules inherit all methods from CalculatedSession, so they share all
method and functionnality with <strong>one difference</strong> :</p>
<blockquote>
<div><ul class="simple">
<li><em>_recalculate_occurences</em> is again defined.</li>
</ul>
</div></blockquote>
<p>SRules has also 3 new methods :</p>
<blockquote>
<div><ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">schedule.SRules.add_session</span></tt></li>
<li><tt class="xref py py-class docutils literal"><span class="pre">schedule.SRules.remove_session</span></tt></li>
<li><tt class="xref py py-class docutils literal"><span class="pre">schedule.SRules.move_session</span></tt></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Ex. (person at work)</p>
<ul class="simple">
<li>session1 (add) = all the week days from 08:00 to 18:00 :
aka all the normal working days</li>
<li>session2 (exclude) = All the days between 1st April and 13th April : holidays</li>
<li>session3 (add) = sunday 10/07/2011 from 14:00 to 17:00 : an extra day</li>
</ul>
<p>code:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">schedule</span> <span class="kn">import</span> <span class="n">Session</span><span class="p">,</span> <span class="n">SRules</span><span class="p">,</span> <span class="n">Interval</span><span class="p">,</span> <span class="n">CalculatedSession</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>

<span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">rrule</span>

<span class="n">ses1</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="s">&quot;Work&quot;</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="n">start_hour</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">start_minute</span><span class="o">=</span><span class="mo">00</span><span class="p">)</span>
<span class="n">ses1</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span> <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">22</span><span class="p">),</span> <span class="n">interval</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">ses1</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span> <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">23</span><span class="p">),</span> <span class="n">interval</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">ses1</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span> <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">24</span><span class="p">),</span> <span class="n">interval</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">ses1</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span> <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span> <span class="n">interval</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">ses1</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span> <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">26</span><span class="p">),</span> <span class="n">interval</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>

<span class="n">ses2</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="s">&quot;Hollidays&quot;</span><span class="p">,</span>
               <span class="n">session_type</span><span class="o">=</span><span class="s">&#39;exclude&#39;</span><span class="p">,</span>
               <span class="n">duration</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="p">,</span>
               <span class="n">start_hour</span><span class="o">=</span><span class="mo">00</span><span class="p">,</span>
               <span class="n">start_minute</span><span class="o">=</span><span class="mo">00</span><span class="p">)</span>
<span class="n">ses2</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span>
              <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span>
              <span class="n">dtstart</span><span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
              <span class="n">until</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
              <span class="n">interval</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">ses3</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="s">&quot;ExtraWorkDay&quot;</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span> <span class="n">start_hour</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">start_minute</span><span class="o">=</span><span class="mo">00</span><span class="p">)</span>
<span class="n">ses3</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span>
              <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span>
              <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
              <span class="n">dtstart</span><span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">my_srule</span> <span class="o">=</span> <span class="n">SRules</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">)</span>
<span class="n">my_srule</span><span class="o">.</span><span class="n">add_session</span><span class="p">(</span><span class="n">ses1</span><span class="p">)</span>
<span class="n">my_srule</span><span class="o">.</span><span class="n">add_session</span><span class="p">(</span><span class="n">ses2</span><span class="p">)</span>
<span class="n">my_srule</span><span class="o">.</span><span class="n">add_session</span><span class="p">(</span><span class="n">ses3</span><span class="p">)</span>

<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span> <span class="ow">in</span> <span class="n">my_srule</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">26</span><span class="p">]:</span> <span class="bp">False</span>

<span class="n">my_srule</span><span class="o">.</span><span class="n">remove_session</span><span class="p">(</span><span class="s">&quot;Hollidays&quot;</span><span class="p">)</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span> <span class="ow">in</span> <span class="n">my_srule</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">29</span><span class="p">]:</span> <span class="bp">True</span>
</pre></div>
</div>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">name:</th><td class="field-body"><p class="first">(string) : a name you choose for this SRules object</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">auto_refresh:</th><td class="field-body"><p class="first">(boolean) :</p>
<ul class="last simple">
<li>if True, _recalculate_occurences will be done
every time a session is added, removed or moved</li>
<li>if False, you&#8217;ll have to call _recalculate_occurences manually. It can
save some CPU when creating complex or big SRules.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="srules.SRules.add_session">
<tt class="descname">add_session</tt><big>(</big><em>session</em><big>)</big><a class="headerlink" href="#srules.SRules.add_session" title="Permalink to this definition">¶</a></dt>
<dd><p>add new session to SRules object</p>
<p>usage examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_srules</span><span class="o">.</span><span class="n">add_session</span><span class="p">(</span><span class="n">my_new_session</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">session:</th><td class="field-body">(Session) the session object you want to add.
the object needs to be instanciated before adding it to the SRules</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd>&lt;nothing&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.remove_session">
<tt class="descname">remove_session</tt><big>(</big><em>name_or_pos</em><big>)</big><a class="headerlink" href="#srules.SRules.remove_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a (previously added) session of the objects.</p>
<p>usage examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_srules</span><span class="o">.</span><span class="n">remove_session</span><span class="p">(</span><span class="s">&quot;Session Test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_srules</span><span class="o">.</span><span class="n">remove_session</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">name_or_pos:</th><td class="field-body"><p class="first">can be either:</p>
<ul class="last">
<li><p class="first"><em>string</em> : the name of the session you&#8217;re trying to remove</p>
</li>
<li><dl class="first docutils">
<dt><em>int</em> <span class="classifier-delimiter">:</span> <span class="classifier">the position (in the session list) of the session you&#8217;re</span></dt>
<dd><p class="first last">trying to remove</p>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd>&lt;nothing&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__add__">
<tt class="descname">__add__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.SRules.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;+&#8217; operator</p>
<p>Calculate addition between Session and other object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if you add a datetime to a session, it will in fact add
an Interval (a very small Interval) with
start = end = the_given_datetime</p>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__and__">
<tt class="descname">__and__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.SRules.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;&amp;&#8217; operator</p>
<p>Calculate intersection Session and another object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>other</em>, <em>return_interval=False</em><big>)</big><a class="headerlink" href="#srules.SRules.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;in&#8217; operator</p>
<p>test if an interval or a datetime is contained inside the session</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">an_interval</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<p>see also <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session.in_interval</span></tt></p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body">can be:
* Interval
* datetime</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">return_interval:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">(boolean) : if True return the resulting period instead
of boolean value.</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if other in self, False if not</td>
</tr>
</tbody>
</table>
<p>or:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">matching if other in self, None if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__eq__">
<tt class="descname">__eq__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.SRules.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;==&#8217; operator</p>
<p>returns a comparaison between self and anoter object
can compare two objects of same type and also compare object
to a string</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if you compare Session object with a string, it will compare
the Session object name to that string, so be careful and try to have
unique names for your sessions if you plan to compare equality by names</p>
</div>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="n">other_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="s">&quot;Test Session&quot;</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="n">any_calculated_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body">can be:
* Session,
* CalculatedSession,
* str</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if equal, False if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>_slice</em><big>)</big><a class="headerlink" href="#srules.SRules.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>slice operator</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">interv</span> <span class="o">=</span> <span class="n">my_session</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">one Interval object</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>or</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">a list of Interval objects if returns more than one value</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>iterable
(see <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session._forward()</span></tt> )</p>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate and return len of Session object</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It returns the number of intervals in this object,
not the total duration of all Intervals</p>
</div>
<p>usage example:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_session</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">int:</th><td class="field-body">number of Intervals in this session</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of object</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">string:</th><td class="field-body">string representation of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__sub__">
<tt class="descname">__sub__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.SRules.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;-&#8216; operator</p>
<p>Calculate substration between Session and other object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if you subtract a datetime to a session, it will in fact
substract an Interval (a very small Interval) with
start = end = the_given_datetime</p>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.__unicode__">
<tt class="descname">__unicode__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules.__unicode__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unicode string describting the objects and his content</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">unicode:</th><td class="field-body">unicode string representation
of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules._forward">
<tt class="descname">_forward</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules._forward" title="Permalink to this definition">¶</a></dt>
<dd><p>forward generator, used for iteration</p>
<p>usage example:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">elt</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.get_occurences">
<tt class="descname">get_occurences</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules.get_occurences" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of all the interval
calculated based on the input rrules</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">(Interval) a list of Interval objects</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.in_interval">
<tt class="descname">in_interval</tt><big>(</big><em>other</em>, <em>return_interval=False</em><big>)</big><a class="headerlink" href="#srules.SRules.in_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>public wrapper for <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session.__contains__</span></tt>
mainly used when needed to set <em>return_interval</em> to True</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result_interval</span> <span class="o">=</span> <span class="n">my_session</span><span class="o">.</span><span class="n">in_interval</span><span class="p">(</span><span class="n">any_interval</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="simple">
<li>Interval</li>
<li>datetime</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">return_interval:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">(boolean) : if True return the resulting period instead
of boolean value.</p>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Interval returned when return_interval is set to True is
the matching Interval in the session which contain entirely the
tested_interval</p>
</div>
<p><em>Returns:</em></p>
<blockquote>
<div><ul>
<li><p class="first">if <em>return_interval</em> is set to False:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if other in self, False if not</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">if <em>return_interval</em> is set to True:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">None:</th><td class="field-body">if not match</td>
</tr>
</tbody>
</table>
<p>or:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">matching if other in self</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.SRules.move_session">
<tt class="descname">move_session</tt><big>(</big><em>old_position</em>, <em>new_position</em><big>)</big><a class="headerlink" href="#srules.SRules.move_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Move a session in the list
Used to change the order, and possibliy the behaviour of the SRules</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">my_srules</span><span class="o">.</span><span class="n">move_session</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">old_position:</th><td class="field-body">(int) old position of the session in the list</td>
</tr>
<tr class="field-even field"><th class="field-name">new_position:</th><td class="field-body">(int) new position of the session in the list</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd>&lt;nothing&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.SRules._recalculate_occurences">
<tt class="descname">_recalculate_occurences</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.SRules._recalculate_occurences" title="Permalink to this definition">¶</a></dt>
<dd><p>Recalculate all the occurences (static list) in the object</p>
<p>This method is used by <tt class="xref py py-meth docutils literal"><span class="pre">schedule.SRules.add_session()</span></tt> and
<tt class="xref py py-meth docutils literal"><span class="pre">schedule.SRules.remove_session()</span></tt> and
<tt class="xref py py-meth docutils literal"><span class="pre">schedule.SRules.move_session()</span></tt> in order to maintain
a static list of Intervals based on the sessions (and session order)
inside the SRules object.</p>
<p>it can be called manually, especially when the object is created with
auto_refresh set to False.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="session">
<h2>Session<a class="headerlink" href="#session" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="srules.Session">
<em class="property">class </em><tt class="descclassname">srules.</tt><tt class="descname">Session</tt><big>(</big><em>session_name=''</em>, <em>duration=60</em>, <em>start_hour=0</em>, <em>start_minute=0</em>, <em>session_type='add'</em>, <em>session_description=None</em><big>)</big><a class="headerlink" href="#srules.Session" title="Permalink to this definition">¶</a></dt>
<dd><p>This objects is a representation of a standard &#8216;session&#8217;
It has a calendar (dateutil) rruleset with one or many rrules inside
Each Session has a start hour and minute and a &#8216;duration&#8217; in order to
calculate periods (called Interval).
All the Interval in a Session share the same start_hour, minute and duration</p>
<p>The Recuring occurences are calculed by rules (dateutil rrulesets)
So you only need to specify one or more rule, and the Session class
will automatically calculate all the resulting Intervals</p>
<p>In a Session object it&#8217;s never authorised to directly manipulate the
calculated Intervals, because the good behaviour is to update the rules which
are the only way to define a Session</p>
<p>The Session object provides tools to manipulate the data :</p>
<ul>
<li><p class="first">it&#8217;s iterable and gettable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_session</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="o">...</span>
</pre></div>
</div>
</li>
<li><p class="first">you can add a Session to another Session :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_session</span> <span class="o">+</span> <span class="n">other_session</span>
</pre></div>
</div>
</li>
<li><p class="first">you can substract Session to another Session :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_session</span> <span class="o">-</span> <span class="n">other_session</span>
</pre></div>
</div>
</li>
<li><p class="first">you can compare equality between Sessions :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_session</span> <span class="o">==</span> <span class="n">other_session</span>
</pre></div>
</div>
</li>
<li><p class="first">you can calculate intersection between Sessions :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_session</span>
</pre></div>
</div>
</li>
<li><p class="first">you can test if object in inside the Session :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</li>
</ul>
<p>Some of this calculation result can not be defined inside a Session anymore
(because it&#8217;s not anymore only on rrule set and on interval but more than
one), this calculation results are returned in another object :
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt></p>
<p>To be able to use session correctly, you have to :</p>
<ul class="simple">
<li>first to instanciate a Session object</li>
<li>Then to add at least one rule using <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session.add_rule()</span></tt></li>
</ul>
<p>usage example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">shedule</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="c"># instanciace a Session with interval from [11h30 to 13h30]</span>
<span class="n">my_session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">start_hour</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">start_minute</span><span class="o">=</span><span class="mi">35</span><span class="p">)</span>
<span class="n">my_session</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;Every Day&quot;</span><span class="p">,</span>
                    <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span>
                    <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
                    <span class="n">interval</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">until</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
                   <span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">session_name:</th><td class="field-body">(string) : the (if possible unique)
name you choose for this session</td>
</tr>
<tr class="field-even field"><th class="field-name">start_hour:</th><td class="field-body">(int [0-23]) :</td>
</tr>
<tr class="field-odd field"><th class="field-name">start_minute:</th><td class="field-body">(int [0-59]) : the time (hour, minute) of the
beginning of each period calculated by rules.</td>
</tr>
<tr class="field-even field"><th class="field-name">duration:</th><td class="field-body">(int) : duration (in minutes) of each period for this session</td>
</tr>
<tr class="field-odd field"><th class="field-name">session_type:</th><td class="field-body">(string) : either &#8216;add&#8217; or &#8216;exclude&#8217; :
flags the type of the session.
It is used in Srules object : a session
&#8216;add&#8217; will add its values to other sessions
and the &#8216;exclude&#8217; will remove his values to other
sessions</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">session_description:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">(string) : free text to describe your session</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="srules.Session.__init__">
<tt class="descname">__init__</tt><big>(</big><em>session_name=''</em>, <em>duration=60</em>, <em>start_hour=0</em>, <em>start_minute=0</em>, <em>session_type='add'</em>, <em>session_description=None</em><big>)</big><a class="headerlink" href="#srules.Session.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for Session object</p>
<p>At creation the object is set with initial parameters, but no rule, so
no &#8216;calculated intervals&#8217;
you&#8217;ll need to call at least one time the
<tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session.add_rule()</span></tt> method to add a rule</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>(see class description: <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session</span></tt> )</dd>
<dt><em>Returns:</em></dt>
<dd>&lt;nothing&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__unicode__">
<tt class="descname">__unicode__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session.__unicode__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unicode string describting the objects and his content</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">unicode:</th><td class="field-body">unicode string representation
of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of object</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">string:</th><td class="field-body">string representation of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>iterable
(see <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session._forward()</span></tt> )</p>
</dd></dl>

<dl class="method">
<dt id="srules.Session._forward">
<tt class="descname">_forward</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session._forward" title="Permalink to this definition">¶</a></dt>
<dd><p>forward generator, used for iteration</p>
<p>usage example:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">elt</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate and return len of Session object</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It returns the number of intervals in this object,
not the total duration of all Intervals</p>
</div>
<p>usage example:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_session</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">int:</th><td class="field-body">number of Intervals in this session</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__eq__">
<tt class="descname">__eq__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Session.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;==&#8217; operator</p>
<p>returns a comparaison between self and anoter object
can compare two objects of same type and also compare object
to a string</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if you compare Session object with a string, it will compare
the Session object name to that string, so be careful and try to have
unique names for your sessions if you plan to compare equality by names</p>
</div>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="n">other_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="s">&quot;Test Session&quot;</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="n">any_calculated_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body">can be:
* Session,
* CalculatedSession,
* str</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if equal, False if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>other</em>, <em>return_interval=False</em><big>)</big><a class="headerlink" href="#srules.Session.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;in&#8217; operator</p>
<p>test if an interval or a datetime is contained inside the session</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">an_interval</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<p>see also <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session.in_interval</span></tt></p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body">can be:
* Interval
* datetime</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">return_interval:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">(boolean) : if True return the resulting period instead
of boolean value.</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if other in self, False if not</td>
</tr>
</tbody>
</table>
<p>or:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">matching if other in self, None if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.in_interval">
<tt class="descname">in_interval</tt><big>(</big><em>other</em>, <em>return_interval=False</em><big>)</big><a class="headerlink" href="#srules.Session.in_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>public wrapper for <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session.__contains__</span></tt>
mainly used when needed to set <em>return_interval</em> to True</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result_interval</span> <span class="o">=</span> <span class="n">my_session</span><span class="o">.</span><span class="n">in_interval</span><span class="p">(</span><span class="n">any_interval</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="simple">
<li>Interval</li>
<li>datetime</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">return_interval:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">(boolean) : if True return the resulting period instead
of boolean value.</p>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Interval returned when return_interval is set to True is
the matching Interval in the session which contain entirely the
tested_interval</p>
</div>
<p><em>Returns:</em></p>
<blockquote>
<div><ul>
<li><p class="first">if <em>return_interval</em> is set to False:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if other in self, False if not</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">if <em>return_interval</em> is set to True:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">None:</th><td class="field-body">if not match</td>
</tr>
</tbody>
</table>
<p>or:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">matching if other in self</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__and__">
<tt class="descname">__and__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Session.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;&amp;&#8217; operator</p>
<p>Calculate intersection Session and another object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__add__">
<tt class="descname">__add__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Session.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;+&#8217; operator</p>
<p>Calculate addition between Session and other object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if you add a datetime to a session, it will in fact add
an Interval (a very small Interval) with
start = end = the_given_datetime</p>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__sub__">
<tt class="descname">__sub__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Session.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;-&#8216; operator</p>
<p>Calculate substration between Session and other object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if you subtract a datetime to a session, it will in fact
substract an Interval (a very small Interval) with
start = end = the_given_datetime</p>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.Session.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>_slice</em><big>)</big><a class="headerlink" href="#srules.Session.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>slice operator</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">interv</span> <span class="o">=</span> <span class="n">my_session</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">one Interval object</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>or</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">a list of Interval objects if returns more than one value</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.Session.add_rule">
<tt class="descname">add_rule</tt><big>(</big><em>label=''</em>, <em>**rrule_params</em><big>)</big><a class="headerlink" href="#srules.Session.add_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>add a recuring rule for this Session</p>
<p>It uses the <a class="reference external" href="http://labix.org/python-dateutil">http://labix.org/python-dateutil</a> syntax, so please refer
to the dateutil documentation for more samples and explanation</p>
<p>a Session object contains a rruleset object (wich is a set of rrules)</p>
<p>the <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session.add_rule()</span></tt> method add a rrule to the
Session rrule set, using the dateutil methods and arguments.</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">my_session</span><span class="o">.</span><span class="n">add_rule</span><span class="p">(</span><span class="s">&quot;label1&quot;</span><span class="p">,</span>
                    <span class="n">freq</span><span class="o">=</span><span class="n">rrule</span><span class="o">.</span><span class="n">DAILY</span><span class="p">,</span>
                    <span class="n">dtstart</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">25</span><span class="p">),</span>
                    <span class="n">interval</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
                    <span class="n">until</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
                   <span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>see python-dateutil documentation
<a class="reference external" href="http://labix.org/python-dateutil#head-cf004ee9a75592797e076752b2a889c10f445418">http://labix.org/python-dateutil#head-cf004ee9a75592797e076752b2a889c10f445418</a></dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.exclude_rule">
<tt class="descname">exclude_rule</tt><big>(</big><em>label=''</em>, <em>**rrule_params</em><big>)</big><a class="headerlink" href="#srules.Session.exclude_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>exclude a recuring rrule to this Session</p>
<p>see <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session.add_rule()</span></tt> for more explanation</p>
</dd></dl>

<dl class="method">
<dt id="srules.Session._recalculate_occurences">
<tt class="descname">_recalculate_occurences</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session._recalculate_occurences" title="Permalink to this definition">¶</a></dt>
<dd><p>Recalculate all the occurences (static list) in the object</p>
<p>This method is used by <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session.add_rule()</span></tt> and
<tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session.exclude_rule()</span></tt> in order to maintain
a static list of Intervals based on the rrule given in input.</p>
</dd></dl>

<dl class="method">
<dt id="srules.Session.get_rules">
<tt class="descname">get_rules</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session.get_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of rrules</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">a list of all the rrules in the rrule set for this session</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.get_occurences">
<tt class="descname">get_occurences</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Session.get_occurences" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of all the interval
calculated based on the input rrules</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">(Interval) a list of Interval objects</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.between">
<tt class="descname">between</tt><big>(</big><em>start</em>, <em>end</em>, <em>inclusive=True</em><big>)</big><a class="headerlink" href="#srules.Session.between" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all occurences between two dates</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">start:</th><td class="field-body">(datetime) : the date and time starting the period</td>
</tr>
<tr class="field-even field"><th class="field-name">end:</th><td class="field-body">(datetime) : the date and time ending the period</td>
</tr>
<tr class="field-odd field"><th class="field-name">inclusive:</th><td class="field-body">(boolean) : if True returns also Interval starting or
ending by <em>start</em> or <em>end</em>.
To make a mathematic parallel:
True is like [start-end]
False is like ]start-end[</td>
</tr>
</tbody>
</table>
</dd>
<dt>+Returns:*</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">CalculatedSession:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> containing
all the Interval within start and end</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.next_interval">
<tt class="descname">next_interval</tt><big>(</big><em>the_date=None</em>, <em>inclusive=True</em><big>)</big><a class="headerlink" href="#srules.Session.next_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the next interval (Interval) for a given date.
If the date is inside a period and inclusive is set to True, returns
the &#8216;current&#8217; period. Otherwise, returns the next period</p>
<p>Return None if no period is found</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">the_date:</th><td class="field-body">(datetime), by default if not given : now()</td>
</tr>
<tr class="field-even field"><th class="field-name">inclusive:</th><td class="field-body">(boolean)</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">the next Interval</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Session.prev_interval">
<tt class="descname">prev_interval</tt><big>(</big><em>the_date=None</em>, <em>inclusive=True</em><big>)</big><a class="headerlink" href="#srules.Session.prev_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the previous interval (Interval) for a given date.
If the date is inside a period and inclusive is set to True, returns
the &#8216;current&#8217; period. Otherwise, returns the previous period</p>
<p>Return None if no period is found</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">the_date:</th><td class="field-body">(datetime), by default if not given : now()</td>
</tr>
<tr class="field-even field"><th class="field-name">inclusive:</th><td class="field-body">(boolean)</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">the previos Interval</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="calculatedsession">
<h2>CalculatedSession<a class="headerlink" href="#calculatedsession" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="srules.CalculatedSession">
<em class="property">class </em><tt class="descclassname">srules.</tt><tt class="descname">CalculatedSession</tt><big>(</big><em>const_list=None</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession" title="Permalink to this definition">¶</a></dt>
<dd><p>a CalculatedSession is the result of manipulation of one or more sessions
and when a Session can not be defined by rules anymore</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">calc_session</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_session</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">calc_session</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_session</span>
</pre></div>
</div>
</div></blockquote>
<p>CalculatedSession inherit all methods from Session, so they share all
method and functionnality <strong>except 3:</strong></p>
<blockquote>
<div><ul class="simple">
<li><em>add_rule</em></li>
<li><em>exclude_rule</em></li>
<li><em>_recalculate_occurences</em></li>
</ul>
</div></blockquote>
<p>Obviously, these 3 method can not apply to a CalculatedSession object
which is static by construction : a CalculatedSession is not defined
by rrules anymore, because they are the
result of some merging / extraction of differents Session, Intervals or dates</p>
<p>Plase see <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session</span></tt> for all other object and
method documentations.</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><dl class="first last docutils">
<dt>can be:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval list:</th><td class="field-body">a list of Intervals</td>
</tr>
<tr class="field-even field"><th class="field-name">Session:</th><td class="field-body">a Session object</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">CalculatedSession:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">another CalculatedSession object</td>
</tr>
<tr class="field-even field"><th class="field-name">None:</th><td class="field-body">None object (resulting to an empty CalculatedSession object)</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="srules.CalculatedSession.__add__">
<tt class="descname">__add__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;+&#8217; operator</p>
<p>Calculate addition between Session and other object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if you add a datetime to a session, it will in fact add
an Interval (a very small Interval) with
start = end = the_given_datetime</p>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__and__">
<tt class="descname">__and__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;&amp;&#8217; operator</p>
<p>Calculate intersection Session and another object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">&amp;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>other</em>, <em>return_interval=False</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;in&#8217; operator</p>
<p>test if an interval or a datetime is contained inside the session</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">an_interval</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<p>see also <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session.in_interval</span></tt></p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body">can be:
* Interval
* datetime</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">return_interval:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">(boolean) : if True return the resulting period instead
of boolean value.</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if other in self, False if not</td>
</tr>
</tbody>
</table>
<p>or:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">matching if other in self, None if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__eq__">
<tt class="descname">__eq__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;==&#8217; operator</p>
<p>returns a comparaison between self and anoter object
can compare two objects of same type and also compare object
to a string</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if you compare Session object with a string, it will compare
the Session object name to that string, so be careful and try to have
unique names for your sessions if you plan to compare equality by names</p>
</div>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="n">other_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="s">&quot;Test Session&quot;</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">my_session</span> <span class="o">==</span> <span class="n">any_calculated_session</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body">can be:
* Session,
* CalculatedSession,
* str</td>
</tr>
</tbody>
</table>
</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if equal, False if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__getitem__">
<tt class="descname">__getitem__</tt><big>(</big><em>_slice</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>slice operator</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">interv</span> <span class="o">=</span> <span class="n">my_session</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">my_session</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">one Interval object</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>or</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">a list of Interval objects if returns more than one value</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__iter__">
<tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>iterable
(see <tt class="xref py py-meth docutils literal"><span class="pre">schedule.Session._forward()</span></tt> )</p>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__len__">
<tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate and return len of Session object</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It returns the number of intervals in this object,
not the total duration of all Intervals</p>
</div>
<p>usage example:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_session</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">int:</th><td class="field-body">number of Intervals in this session</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of object</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">string:</th><td class="field-body">string representation of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__sub__">
<tt class="descname">__sub__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;-&#8216; operator</p>
<p>Calculate substration between Session and other object</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_calculated_session</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">other_interval</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">my_session</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if you subtract a datetime to a session, it will in fact
substract an Interval (a very small Interval) with
start = end = the_given_datetime</p>
</div>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="last simple">
<li>Session</li>
<li>CalculatedSession</li>
<li>Interval</li>
<li>datetime</li>
<li>None</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><em>Returns:</em>
a <tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> object with the result
of the calculation (if no result, the
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> is empty, but it&#8217;s still a
<tt class="xref py py-class docutils literal"><span class="pre">schedule.CalculatedSession</span></tt> Object)</p>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.__unicode__">
<tt class="descname">__unicode__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.CalculatedSession.__unicode__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unicode string describting the objects and his content</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">unicode:</th><td class="field-body">unicode string representation
of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession._forward">
<tt class="descname">_forward</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.CalculatedSession._forward" title="Permalink to this definition">¶</a></dt>
<dd><p>forward generator, used for iteration</p>
<p>usage example:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">elt</span> <span class="ow">in</span> <span class="n">my_session</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">elt</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.get_occurences">
<tt class="descname">get_occurences</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.CalculatedSession.get_occurences" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of all the interval
calculated based on the input rrules</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>&lt;none&gt;</dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">(Interval) a list of Interval objects</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.CalculatedSession.in_interval">
<tt class="descname">in_interval</tt><big>(</big><em>other</em>, <em>return_interval=False</em><big>)</big><a class="headerlink" href="#srules.CalculatedSession.in_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>public wrapper for <tt class="xref py py-class docutils literal"><span class="pre">schedule.Session.__contains__</span></tt>
mainly used when needed to set <em>return_interval</em> to True</p>
<p>usage examples:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">result_interval</span> <span class="o">=</span> <span class="n">my_session</span><span class="o">.</span><span class="n">in_interval</span><span class="p">(</span><span class="n">any_interval</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
  <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">other:</th><td class="field-body"><p class="first">can be:</p>
<ul class="simple">
<li>Interval</li>
<li>datetime</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">return_interval:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">(boolean) : if True return the resulting period instead
of boolean value.</p>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Interval returned when return_interval is set to True is
the matching Interval in the session which contain entirely the
tested_interval</p>
</div>
<p><em>Returns:</em></p>
<blockquote>
<div><ul>
<li><p class="first">if <em>return_interval</em> is set to False:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if other in self, False if not</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">if <em>return_interval</em> is set to True:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">None:</th><td class="field-body">if not match</td>
</tr>
</tbody>
</table>
<p>or:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">matching if other in self</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="interval">
<h2>Interval<a class="headerlink" href="#interval" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="srules.Interval">
<em class="property">class </em><tt class="descclassname">srules.</tt><tt class="descname">Interval</tt><big>(</big><em>start</em>, <em>end</em><big>)</big><a class="headerlink" href="#srules.Interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent an interval (especialy date interval)</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">start:</th><td class="field-body">represent the datetime of the period start</td>
</tr>
<tr class="field-even field"><th class="field-name">end:</th><td class="field-body">represent the datetime of the period end</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="method">
<dt id="srules.Interval.__init__">
<tt class="descname">__init__</tt><big>(</big><em>start</em>, <em>end</em><big>)</big><a class="headerlink" href="#srules.Interval.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Interval Constructor</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd>(see Class Description : <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt> )</dd>
<dt><em>Returns:</em></dt>
<dd><em>Nothing</em></dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__unicode__">
<tt class="descname">__unicode__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Interval.__unicode__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns unicode string describting the objects and his content</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">unicode:</th><td class="field-body">unicode string representation
of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Interval.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of object</p>
<dl class="docutils">
<dt><em>Args:</em></dt>
<dd><em>None</em></dd>
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">string:</th><td class="field-body">string representation of an <tt class="xref py py-class docutils literal"><span class="pre">schedule.Interval</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__eq__">
<tt class="descname">__eq__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Interval.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;==&#8217; operator</p>
<p><em>Usage example:</em></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">Interval1</span> <span class="o">==</span> <span class="n">Interval2</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>Returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if equal, False if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__cmp__">
<tt class="descname">__cmp__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Interval.__cmp__" title="Permalink to this definition">¶</a></dt>
<dd><p>comparaison operator</p>
<p><em>Usage example:</em></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">Interval1</span> <span class="o">&gt;</span> <span class="n">Interval2</span><span class="p">:</span>
  <span class="o">...</span>

<span class="k">if</span> <span class="n">Interval1</span> <span class="o">&lt;=</span> <span class="n">Interval2</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The comparaison operator only compare the start date of the
interval : because Interval can supoerpose each others, it is not
possible to compare the full interval. Be careful when using
comparaisons</p>
</div>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__contains__">
<tt class="descname">__contains__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Interval.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;in&#8217; operator</p>
<p>Test if and interval is contained inside the other</p>
<p><em>Usage example:</em></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">Interval1</span> <span class="ow">in</span> <span class="n">Interval2</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>returns:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">True if yes, False if not</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__and__">
<tt class="descname">__and__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Interval.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;&amp;&#8217; operator</p>
<p>returns the interval in intersection between the two input intervals
or None if there is no intersection</p>
<p><em>Usage example:</em></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Interval3</span> <span class="o">=</span> <span class="n">Interval1</span> <span class="o">&amp;</span> <span class="n">Interval2</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>return:</em></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Interval:</th><td class="field-body">Interval object</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__add__">
<tt class="descname">__add__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Interval.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;+&#8217; operator</p>
<p>Add two Intervals</p>
<p><em>Usage example:</em></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">Interval1</span> <span class="o">+</span> <span class="n">Interval2</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>returns:</em></dt>
<dd><ul class="first last simple">
<li>if intersection, returns a new interval based on max extremities</li>
<li>if no intersection : returns a tuple with the 2 intervals given in args</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__sub__">
<tt class="descname">__sub__</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#srules.Interval.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;-&#8216; operator</p>
<p>Substract two Intervals</p>
<p><em>Usage example:</em></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="n">Interval1</span> <span class="o">-</span> <span class="n">Interval2</span>
</pre></div>
</div>
<dl class="docutils">
<dt><em>returns:</em></dt>
<dd><ul class="first last simple">
<li>if intersection, returns a new (smaller) interval : self - other</li>
<li>if other inside self, return 2 new intervals</li>
<li>if other outside self, return a tuple (self, other)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="srules.Interval.__hash__">
<tt class="descname">__hash__</tt><big>(</big><big>)</big><a class="headerlink" href="#srules.Interval.__hash__" title="Permalink to this definition">¶</a></dt>
<dd><p>return a hash of the object which should be unique</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Schedule Rules&#8217;s documentation</a><ul>
<li><a class="reference internal" href="#srules">Srules</a></li>
<li><a class="reference internal" href="#session">Session</a></li>
<li><a class="reference internal" href="#calculatedsession">CalculatedSession</a></li>
<li><a class="reference internal" href="#interval">Interval</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">Schedule Rules 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2012, Link Care Services.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>